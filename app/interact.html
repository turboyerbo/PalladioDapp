<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/common.css">
    <title>Palladio - get CBD addrs</title>
    <script type="text/javascript" src='js/lib/embark.js'></script>
    <script type="text/javascript" src='js/lib/jquery.js'></script>
    <script type="text/javascript" src='js/lib/constants.js'></script>
    <script type="text/javascript" src='js/interact.js'></script>
    <script type="text/javascript" src="js/tableFilter.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  </head>
  <body>
    <h1 align="center">Palladio</h1>
    <h2 align="center">Platform for Architects</h2>
    <table><tr>
        <td width='100%'>
            <div align='center' color=blue id='userAddress' visibility='hidden'></div>
        </td>
        <td width='60%'><td>
    </tr></table>
    <br>
    <table id='CBDTable' border=1 width='100%' align='center'>
        <tr width='100%'><td width='100%' align='center' colspan=2>
            <b>Contract Address </b>
            <span class="insertAddress">loading...</span><br>
            </font>
            <small><a id="etherscanLink" href=''>View on etherscan.io</a></small><br>
            <big><big>State: <span id='CBDInfoOutput'>loading...</span><br>
        
    		<form id='recoverFundsInputGroup' hidden='true'>
    			<input type='button' value='Cancel Contract - Recover Funds' onClick='callRecoverFunds()'>
    		</form>
            <br>
            <table width='40%'>
                <tr width='100%'>
                    <td width='35%' align='center'>
                        <form id='licensedArchitectFundsInputGroup' hidden='true'>
                            <input type='text' name='amount' size=7><br>
    						            <input type='button' value='Add Funds' onClick='addFundsFromForm()'>
                        </form>
            </td>
                    <td>
                        <table width='100%'>
                            <tr width='100%'>
                                <td align='right'><span id='CBDFundsDepositedOutput'>loading...</span> </td>
                                <td> Ether deposited</td><br><br>
                                <td align='right'><font color='green'><span id='CBDFundsReleasedOutput' color='blue'>loading...</span></font> </td>
                                <td> Ether released</td>
                            </tr>
                            </tr><tr>
                                <td> </td>
                            </tr><tr width='100%'>
                                <big>
                                <td align='right'></td>
                                </big>
                            </tr>
                        </table>
                    </td>
                        <td align='center'>
                       Withdraw Funds:<br>
                        <font color="#cf7700">
                        <span id='CBDDefaultActionOutput'>loading...</span>
                        </font>
                        <div id='defaultActionInputGroup' hidden='true'>
                          <input type='button' value='callDefaultAction' onClick='callDefaultAction()'>
                        </div>
                    </td>
                    <td align='center'>
                      <span id='CBDDefaultActionTriggerTime'></span>
                    </td>
                    <td id='CBDDefaultTimeoutLengthGroup' align='center'>
                      Time: <br>
                        <span id="CBDDefaultTimeoutLength"></span>
                        <form id="delayDefaultActionForm" hidden='true'>
                          <input type='button' value='delayDefaultAction' onClick='delayDefaultRelease()'>
                        </form>
                    </td>
                </tr>
            </table>
        </td></tr>
        <tr>
            <td width='50%' align='center'>
                Architect:<br><span id='CBDlicensedArchitectOutput'>loading...</span>
            </td>
            <td width='50%' align='center'>
                Associate:<br>
                <span id='CBDRecipientOutput'>loding...</span>
                <div id='commitInputGroup' hidden='true'><button onclick="callCommit()">Commit to CBD</button></div>
            </td>
        </tr>
        <tr>
            <td align='center'>
                Architect Statement:<br>
                <div id='updatelicensedArchitectStringInputGroup' hidden='true'>
    				<button id='payerStringUpdateStartButton' onclick="startPayerStringUpdate()">Update</button>
    				<textarea id='payerStringUpdateTextarea' rows='15' cols='80' hidden='true'></textarea><br>
    				<button id='payerStringUpdateCommitButton' hidden='true' onClick="commitPayerStringUpdate()">Commit Update</button>
    				<button id='payerStringUpdateCancelButton' hidden='true' onClick="cancelPayerStringUpdate()">Cancel</button>
    			</div>
                <div id='CBDPayerStringOutput' align='left'></div>
            </td>
            <td align='center'>
                Associate Statement:<br>
                <div id='updateRecipientStringInputGroup' hidden='true'>
    				<button id='recipientStringUpdateStartButton' onclick="startRecipientStringUpdate()">Update</button>
    				<textarea id='associateMessageUpdateTextarea' rows='15' cols='80' hidden='true'></textarea><br>
    				<button id='recipientStringUpdateCommitButton' hidden='true' onClick="commitAssociateMessageUpdate()">Commit Update</button>
    				<button id='recipientStringUpdateCancelButton' hidden='true' onClick="cancelRecipientStringUpdate()">Cancel</button>
    			</div>
                <div id='CBDRecipientStringOutput' align='left'></div>
            </td>
        </tr>
    </table>
    <br>
    <div class="container">
      <ul class="list-group">
      </ul>
    </div>
    </div>
  </body>
  </body>
</html>
